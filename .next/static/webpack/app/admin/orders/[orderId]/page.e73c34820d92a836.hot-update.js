"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/orders/[orderId]/page",{

/***/ "(app-pages-browser)/./src/hooks/use-thermal-printer.ts":
/*!******************************************!*\
  !*** ./src/hooks/use-thermal-printer.ts ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useThermalPrinter: () => (/* binding */ useThermalPrinter)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ useThermalPrinter auto */ \n// Função auxiliar para formatar moeda\nconst formatCurrency = (value)=>{\n    return new Intl.NumberFormat('pt-BR', {\n        style: 'currency',\n        currency: 'BRL'\n    }).format(value);\n};\nfunction useThermalPrinter() {\n    const [isPrinting, setIsPrinting] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // No novo modelo, sempre disponível para todos os navegadores\n    const isSupported = true;\n    const hasPrinterAccess = true;\n    const printerName = 'Impressora do Sistema';\n    // Solicitação de acesso à impressora (mantida por compatibilidade)\n    const requestPrinterAccess = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useThermalPrinter.useCallback[requestPrinterAccess]\": async ()=>{\n            return true;\n        }\n    }[\"useThermalPrinter.useCallback[requestPrinterAccess]\"], []);\n    // Função de impressão usando API nativa do navegador\n    const print = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useThermalPrinter.useCallback[print]\": async function(orderData) {\n            let restaurantName = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"KRATO CARDÁPIO DIGITAL\";\n            try {\n                var _orderData_customer, _orderData_customer1;\n                setIsPrinting(true);\n                setError(null);\n                // Mapeamento de métodos de pagamento\n                const paymentMethodNames = {\n                    credit_card: \"Cartão de Crédito\",\n                    debit_card: \"Cartão de Débito\",\n                    pix: \"PIX\",\n                    cash: \"Dinheiro\",\n                    meal_voucher: \"Vale-Refeição\",\n                    // Compatibilidade com formatos antigos\n                    credit: \"Cartão de Crédito\",\n                    debit: \"Cartão de Débito\",\n                    wallet: \"Vale-Refeição\",\n                    money: \"Dinheiro\"\n                };\n                // Obter informações do pedido\n                const orderId = orderData._id || orderData.id || orderData.number || '000';\n                const orderDate = new Date(orderData.createdAt || new Date());\n                const formattedDate = orderDate.toLocaleDateString('pt-BR');\n                const formattedTime = orderDate.toLocaleTimeString('pt-BR');\n                // Informações do cliente\n                const customerName = ((_orderData_customer = orderData.customer) === null || _orderData_customer === void 0 ? void 0 : _orderData_customer.name) || 'Cliente';\n                const customerPhone = ((_orderData_customer1 = orderData.customer) === null || _orderData_customer1 === void 0 ? void 0 : _orderData_customer1.phone) || '-';\n                // Tipo de pedido\n                const isDelivery = orderData.orderType === 'delivery' || orderData.deliveryMethod === 'delivery';\n                const orderType = isDelivery ? 'Entrega' : 'Retirada no local';\n                // Endereço de entrega\n                let deliveryAddressText = '';\n                const deliveryAddress = orderData.deliveryAddress || orderData.address;\n                if (isDelivery && deliveryAddress) {\n                    if (typeof deliveryAddress === 'string') {\n                        deliveryAddressText = \"Endere\\xe7o: \".concat(deliveryAddress, \"\\n\");\n                    } else {\n                        // Formatação detalhada do endereço\n                        deliveryAddressText = \"Endere\\xe7o: \".concat(deliveryAddress.street, \", \").concat(deliveryAddress.number).concat(deliveryAddress.complement ? \" - \".concat(deliveryAddress.complement) : '', \"\\n\");\n                        deliveryAddressText += \"Bairro: \".concat(deliveryAddress.neighborhood || '-', \"\\n\");\n                        deliveryAddressText += \"Cidade: \".concat(deliveryAddress.city || '-').concat(deliveryAddress.state ? \" - \".concat(deliveryAddress.state) : '', \"\\n\");\n                        if (deliveryAddress.zipCode) deliveryAddressText += \"CEP: \".concat(deliveryAddress.zipCode, \"\\n\");\n                        if (deliveryAddress.reference) deliveryAddressText += \"Refer\\xeancia: \".concat(deliveryAddress.reference, \"\\n\");\n                    }\n                }\n                // Informações de pagamento\n                const paymentMethod = orderData.paymentMethod || orderData.payment && orderData.payment.method || '-';\n                const formattedPaymentMethod = paymentMethodNames[paymentMethod] || paymentMethod;\n                // Troco\n                let changeText = '';\n                const change = orderData.change || orderData.payment && orderData.payment.change;\n                if ((paymentMethod === 'cash' || paymentMethod === 'money') && change !== undefined) {\n                    changeText = \"Troco para: \".concat(formatCurrency(change), \"\\n\");\n                }\n                // Itens do pedido\n                let items = orderData.items || [];\n                // Garantir que todos os itens tenham categoria\n                items = items.map({\n                    \"useThermalPrinter.useCallback[print]\": (item)=>{\n                        // Itens meio a meio\n                        if (item.isHalfHalf && item.halfHalf) {\n                            // Garantir que as metades tenham categorias\n                            if (item.halfHalf.firstHalf && !item.halfHalf.firstHalf.category) {\n                                item.halfHalf.firstHalf.category = item.category || 'Não classificado';\n                            }\n                            if (item.halfHalf.secondHalf && !item.halfHalf.secondHalf.category) {\n                                item.halfHalf.secondHalf.category = item.category || 'Não classificado';\n                            }\n                        }\n                        // Se não tiver categoria, aplicar uma padrão\n                        if (!item.category) {\n                            return {\n                                ...item,\n                                category: 'Não classificado'\n                            };\n                        }\n                        return item;\n                    }\n                }[\"useThermalPrinter.useCallback[print]\"]);\n                // Gerar texto para itens\n                let itemsText = '';\n                for (const item of items){\n                    itemsText += \"\".concat(item.quantity, \"x \").concat(item.name, \" - \").concat(formatCurrency(item.price * item.quantity), \"\\n\");\n                    // Se for meia a meia, mostrar categorias das metades\n                    if (item.isHalfHalf && item.halfHalf) {\n                        // Obter categorias das metades\n                        let firstHalfCategory = 'Não classificado';\n                        let secondHalfCategory = 'Não classificado';\n                        if (item.halfHalf.firstHalf && item.halfHalf.firstHalf.category) {\n                            firstHalfCategory = item.halfHalf.firstHalf.category;\n                        }\n                        if (item.halfHalf.secondHalf && item.halfHalf.secondHalf.category) {\n                            secondHalfCategory = item.halfHalf.secondHalf.category;\n                        }\n                        // Se não encontrou categoria, tenta obter do item principal\n                        if (firstHalfCategory === 'Não classificado' && item.category) {\n                            firstHalfCategory = item.category;\n                        }\n                        if (secondHalfCategory === 'Não classificado' && item.category) {\n                            secondHalfCategory = item.category;\n                        }\n                        itemsText += \"CATEGORIA (1/2): \".concat(firstHalfCategory, \"\\n\");\n                        itemsText += \"CATEGORIA (2/2): \".concat(secondHalfCategory, \"\\n\");\n                        // Detalhes de meio a meio\n                        itemsText += \"\\xbd \".concat(item.halfHalf.firstHalf.name, \"\\n\");\n                        // Adicionais da primeira metade\n                        if (item.halfHalf.firstHalf.additions && item.halfHalf.firstHalf.additions.length > 0) {\n                            for (const addition of item.halfHalf.firstHalf.additions){\n                                itemsText += \"  + \".concat(addition.name, \"\\n\");\n                            }\n                        }\n                        itemsText += \"\\xbd \".concat(item.halfHalf.secondHalf.name, \"\\n\");\n                        // Adicionais da segunda metade\n                        if (item.halfHalf.secondHalf.additions && item.halfHalf.secondHalf.additions.length > 0) {\n                            for (const addition of item.halfHalf.secondHalf.additions){\n                                itemsText += \"  + \".concat(addition.name, \"\\n\");\n                            }\n                        }\n                    } else {\n                        itemsText += \"CATEGORIA: \".concat(item.category, \"\\n\");\n                        // Adicionais normais\n                        if (item.additions && item.additions.length > 0) {\n                            for (const addition of item.additions){\n                                itemsText += \"  + \".concat(addition.name, \"\\n\");\n                            }\n                        }\n                    }\n                    // Observações do item\n                    if (item.notes || item.observations || item.observation) {\n                        itemsText += \"Obs: \".concat(item.notes || item.observations || item.observation, \"\\n\");\n                    }\n                    itemsText += \"---------------------------\\n\";\n                }\n                // Calcular totais\n                const subtotal = orderData.subtotal || items.reduce({\n                    \"useThermalPrinter.useCallback[print]\": (acc, item)=>acc + item.price * item.quantity\n                }[\"useThermalPrinter.useCallback[print]\"], 0);\n                const deliveryFee = orderData.deliveryFee || orderData.delivery && orderData.delivery.fee || 0;\n                const discount = orderData.discount || 0;\n                const total = orderData.total || subtotal + deliveryFee - discount;\n                // Montar o conteúdo completo do recibo em formato de texto puro\n                const receiptText = \"\\n\".concat(restaurantName, \"\\n\").concat(formattedDate, \" \").concat(formattedTime, \"\\nPEDIDO #\").concat(orderId, \"\\n---------------------------\\n\\nCLIENTE:\\nNome: \").concat(customerName, \"\\nTelefone: \").concat(customerPhone, \"\\n\\nTIPO DE PEDIDO:\\n\").concat(orderType, \"\\n\").concat(isDelivery ? deliveryAddressText : '', \"\\n\\nPAGAMENTO:\\n\").concat(formattedPaymentMethod, \"\\n\").concat(changeText, \"\\n---------------------------\\n\\nITENS DO PEDIDO:\\n\").concat(itemsText, \"\\n\\nSubtotal: \").concat(formatCurrency(subtotal), \"\\nTaxa de entrega: \").concat(formatCurrency(deliveryFee), \"\\n\").concat(discount > 0 ? \"Desconto: -\".concat(formatCurrency(discount), \"\\n\") : '', \"\\nTOTAL: \").concat(formatCurrency(total), \"\\n* * * * * * * * * * * * * * * *\\nObrigado pela prefer\\xeancia!\\n\");\n                // Criar janela de opções de impressão\n                const optionsWindow = window.open('', '_blank');\n                if (!optionsWindow) {\n                    throw new Error('Não foi possível abrir janela de impressão');\n                }\n                // Configurar janela de opções\n                optionsWindow.document.write('\\n<!DOCTYPE html>\\n<html>\\n<head>\\n  <meta charset=\"utf-8\">\\n  <title>Op\\xe7\\xf5es de Impress\\xe3o</title>\\n  <style>\\n    body {\\n      font-family: Arial, sans-serif;\\n      line-height: 1.6;\\n      max-width: 800px;\\n      margin: 0 auto;\\n      padding: 20px;\\n    }\\n    h1 {\\n      text-align: center;\\n      margin-bottom: 20px;\\n    }\\n    .options {\\n      display: flex;\\n      flex-wrap: wrap;\\n      gap: 20px;\\n      justify-content: center;\\n      margin-bottom: 30px;\\n    }\\n    .option {\\n      border: 1px solid #ccc;\\n      border-radius: 8px;\\n      padding: 20px;\\n      width: 300px;\\n      background-color: #f9f9f9;\\n      cursor: pointer;\\n      transition: all 0.2s;\\n    }\\n    .option:hover {\\n      background-color: #e9e9e9;\\n      transform: translateY(-2px);\\n    }\\n    .option h2 {\\n      margin-top: 0;\\n      color: #333;\\n    }\\n    .option p {\\n      margin-bottom: 0;\\n      color: #666;\\n    }\\n    .button {\\n      display: block;\\n      text-align: center;\\n      background-color: #4CAF50;\\n      color: white;\\n      padding: 10px 20px;\\n      border-radius: 4px;\\n      text-decoration: none;\\n      margin-top: 15px;\\n      border: none;\\n      cursor: pointer;\\n      font-size: 16px;\\n      width: 100%;\\n    }\\n    .button:hover {\\n      background-color: #45a049;\\n    }\\n    .red {\\n      background-color: #f44336;\\n    }\\n    .red:hover {\\n      background-color: #d32f2f;\\n    }\\n    .texto {\\n      white-space: pre-wrap;\\n      border: 1px solid #ddd;\\n      padding: 10px;\\n      background-color: #f5f5f5;\\n      font-family: monospace;\\n      display: none;\\n      margin-top: 20px;\\n      border-radius: 4px;\\n      max-height: 400px;\\n      overflow-y: auto;\\n    }\\n    .close-button {\\n      margin-top: 20px;\\n      text-align: center;\\n    }\\n  </style>\\n</head>\\n<body>\\n  <h1>Op\\xe7\\xf5es de Impress\\xe3o</h1>\\n  \\n  <div class=\"options\">\\n    <div class=\"option\" onclick=\"escolherOpcao(\\'ultraSimples\\')\">\\n      <h2>Impress\\xe3o Ultra-Simples</h2>\\n      <p>Impress\\xe3o sem formata\\xe7\\xe3o, recomendada para impressoras t\\xe9rmicas. Garante m\\xe1xima compatibilidade.</p>\\n      <button class=\"button\" onclick=\"imprimeUltraSimples(event)\">Imprimir Texto Puro</button>\\n    </div>\\n    \\n    <div class=\"option\" onclick=\"escolherOpcao(\\'download\\')\">\\n      <h2>Baixar Arquivo .TXT</h2>\\n      <p>Baixe o recibo como arquivo de texto e imprima-o usando outro aplicativo.</p>\\n      <button class=\"button\" onclick=\"baixarArquivoTexto(event)\">Baixar Arquivo</button>\\n    </div>\\n  </div>\\n\\n  <div id=\"textoRecibo\" class=\"texto\">'.concat(receiptText.replace(/</g, '&lt;').replace(/>/g, '&gt;'), \"</div>\\n\\n  <div class=\\\"close-button\\\">\\n    <button class=\\\"button red\\\" onclick=\\\"window.close()\\\">Fechar</button>\\n  </div>\\n\\n  <script>\\n    function escolherOpcao(opcao) {\\n      if (opcao === 'mostrarTexto') {\\n        document.getElementById('textoRecibo').style.display = 'block';\\n      }\\n    }\\n    \\n    function imprimeUltraSimples(e) {\\n      e.stopPropagation();\\n      \\n      // Abre uma nova janela apenas com o texto\\n      const textoRecibo = document.getElementById('textoRecibo').textContent;\\n      const janelaImpressao = window.open('', '_blank');\\n      \\n      janelaImpressao.document.write(`\\n        <!DOCTYPE html>\\n        <html>\\n        <head>\\n          <title>Impress\\xe3o</title>\\n          <style>\\n            body { \\n              font-family: monospace; \\n              white-space: pre; \\n              margin: 0; \\n              padding: 0;\\n              font-size: 12px;\\n            }\\n            @media print {\\n              @page { \\n                size: auto; \\n                margin: 0mm; \\n              }\\n            }\\n          </style>\\n        </head>\\n        <body>${textoRecibo}</body>\\n        </html>\\n      `);\\n      \\n      janelaImpressao.document.close();\\n      \\n      // Imprimir imediatamente\\n      setTimeout(() => {\\n        janelaImpressao.print();\\n        // N\\xe3o fecha a janela para permitir m\\xfaltiplas tentativas\\n      }, 500);\\n    }\\n    \\n    function baixarArquivoTexto(e) {\\n      e.stopPropagation();\\n      \\n      const textoRecibo = document.getElementById('textoRecibo').textContent;\\n      const blob = new Blob([textoRecibo], { type: 'text/plain' });\\n      const url = URL.createObjectURL(blob);\\n      \\n      const a = document.createElement('a');\\n      a.href = url;\\n      a.download = 'recibo_pedido_\").concat(orderId, \".txt';\\n      document.body.appendChild(a);\\n      a.click();\\n      \\n      setTimeout(() => {\\n        document.body.removeChild(a);\\n        URL.revokeObjectURL(url);\\n      }, 100);\\n    }\\n  </script>\\n</body>\\n</html>\\n      \"));\n                optionsWindow.document.close();\n                setIsPrinting(false);\n                return true;\n            } catch (err) {\n                console.error('Erro ao imprimir:', err);\n                setError(err.message || 'Erro desconhecido ao imprimir');\n                setIsPrinting(false);\n                return false;\n            }\n        }\n    }[\"useThermalPrinter.useCallback[print]\"], []);\n    return {\n        isPrinting,\n        isSupported,\n        hasPrinterAccess,\n        printerName,\n        requestPrinterAccess,\n        print,\n        error\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2UtdGhlcm1hbC1wcmludGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozt1RUFFNkM7QUFZN0Msc0NBQXNDO0FBQ3RDLE1BQU1FLGlCQUFpQixDQUFDQztJQUN0QixPQUFPLElBQUlDLEtBQUtDLFlBQVksQ0FBQyxTQUFTO1FBQ3BDQyxPQUFPO1FBQ1BDLFVBQVU7SUFDWixHQUFHQyxNQUFNLENBQUNMO0FBQ1o7QUFFTyxTQUFTTTtJQUNkLE1BQU0sQ0FBQ0MsWUFBWUMsY0FBYyxHQUFHWCwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNZLE9BQU9DLFNBQVMsR0FBR2IsK0NBQVFBLENBQWdCO0lBRWxELDhEQUE4RDtJQUM5RCxNQUFNYyxjQUFjO0lBQ3BCLE1BQU1DLG1CQUFtQjtJQUN6QixNQUFNQyxjQUFjO0lBRXBCLG1FQUFtRTtJQUNuRSxNQUFNQyx1QkFBdUJoQixrREFBV0E7K0RBQUM7WUFDdkMsT0FBTztRQUNUOzhEQUFHLEVBQUU7SUFFTCxxREFBcUQ7SUFDckQsTUFBTWlCLFFBQVFqQixrREFBV0E7Z0RBQUMsZUFBT2tCO2dCQUFnQkMsa0ZBQWlCO1lBQ2hFLElBQUk7b0JBeUJtQkQscUJBQ0NBO2dCQXpCdEJSLGNBQWM7Z0JBQ2RFLFNBQVM7Z0JBRVQscUNBQXFDO2dCQUNyQyxNQUFNUSxxQkFBNkM7b0JBQ2pEQyxhQUFhO29CQUNiQyxZQUFZO29CQUNaQyxLQUFLO29CQUNMQyxNQUFNO29CQUNOQyxjQUFjO29CQUNkLHVDQUF1QztvQkFDdkNDLFFBQVE7b0JBQ1JDLE9BQU87b0JBQ1BDLFFBQVE7b0JBQ1JDLE9BQU87Z0JBQ1Q7Z0JBRUEsOEJBQThCO2dCQUM5QixNQUFNQyxVQUFVWixVQUFVYSxHQUFHLElBQUliLFVBQVVjLEVBQUUsSUFBSWQsVUFBVWUsTUFBTSxJQUFJO2dCQUNyRSxNQUFNQyxZQUFZLElBQUlDLEtBQUtqQixVQUFVa0IsU0FBUyxJQUFJLElBQUlEO2dCQUN0RCxNQUFN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Q2xDLE9BQXRCMUYsZUFBZTJGLFFBQU87Z0JBS3pCLHNDQUFzQztnQkFDdEMsTUFBTUUsZ0JBQWdCQyxPQUFPQyxJQUFJLENBQUMsSUFBSTtnQkFFdEMsSUFBSSxDQUFDRixlQUFlO29CQUNsQixNQUFNLElBQUlHLE1BQU07Z0JBQ2xCO2dCQUVBLDhCQUE4QjtnQkFDOUJILGNBQWNJLFFBQVEsQ0FBQ0MsS0FBSyxDQUFDLHlpRkF1S0NyRSxPQS9ESStELFlBQVlPLE9BQU8sQ0FBQyxNQUFNLFFBQVFBLE9BQU8sQ0FBQyxNQUFNLFNBQVEsc3hEQStEcEQsT0FBUnRFLFNBQVE7Z0JBY3RDZ0UsY0FBY0ksUUFBUSxDQUFDRyxLQUFLO2dCQUU1QjNGLGNBQWM7Z0JBQ2QsT0FBTztZQUNULEVBQUUsT0FBTzRGLEtBQVU7Z0JBQ2pCQyxRQUFRNUYsS0FBSyxDQUFDLHFCQUFxQjJGO2dCQUNuQzFGLFNBQVMwRixJQUFJRSxPQUFPLElBQUk7Z0JBQ3hCOUYsY0FBYztnQkFDZCxPQUFPO1lBQ1Q7UUFDRjsrQ0FBRyxFQUFFO0lBRUwsT0FBTztRQUNMRDtRQUNBSTtRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBTjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9vdGF2aW9tYXJjby9EZXNrdG9wL1Byb2pldG9zL0dsb2JhbCBMaXZlL2tyYXRvZGVsaXYvY2FyZGFwaW9fbGF0ZXN0L3NyYy9ob29rcy91c2UtdGhlcm1hbC1wcmludGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcblxuaW50ZXJmYWNlIFVzZVRoZXJtYWxQcmludGVyUmV0dXJuIHtcbiAgaXNQcmludGluZzogYm9vbGVhbjtcbiAgaXNTdXBwb3J0ZWQ6IGJvb2xlYW47XG4gIGhhc1ByaW50ZXJBY2Nlc3M6IGJvb2xlYW47XG4gIHByaW50ZXJOYW1lOiBzdHJpbmcgfCBudWxsO1xuICByZXF1ZXN0UHJpbnRlckFjY2VzczogKCkgPT4gUHJvbWlzZTxib29sZWFuPjtcbiAgcHJpbnQ6IChvcmRlckRhdGE6IGFueSwgcmVzdGF1cmFudE5hbWU/OiBzdHJpbmcpID0+IFByb21pc2U8Ym9vbGVhbj47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xufVxuXG4vLyBGdW7Dp8OjbyBhdXhpbGlhciBwYXJhIGZvcm1hdGFyIG1vZWRhXG5jb25zdCBmb3JtYXRDdXJyZW5jeSA9ICh2YWx1ZTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCgncHQtQlInLCB7XG4gICAgc3R5bGU6ICdjdXJyZW5jeScsXG4gICAgY3VycmVuY3k6ICdCUkwnXG4gIH0pLmZvcm1hdCh2YWx1ZSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlVGhlcm1hbFByaW50ZXIoKTogVXNlVGhlcm1hbFByaW50ZXJSZXR1cm4ge1xuICBjb25zdCBbaXNQcmludGluZywgc2V0SXNQcmludGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBcbiAgLy8gTm8gbm92byBtb2RlbG8sIHNlbXByZSBkaXNwb27DrXZlbCBwYXJhIHRvZG9zIG9zIG5hdmVnYWRvcmVzXG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdHJ1ZVxuICBjb25zdCBoYXNQcmludGVyQWNjZXNzID0gdHJ1ZVxuICBjb25zdCBwcmludGVyTmFtZSA9ICdJbXByZXNzb3JhIGRvIFNpc3RlbWEnXG5cbiAgLy8gU29saWNpdGHDp8OjbyBkZSBhY2Vzc28gw6AgaW1wcmVzc29yYSAobWFudGlkYSBwb3IgY29tcGF0aWJpbGlkYWRlKVxuICBjb25zdCByZXF1ZXN0UHJpbnRlckFjY2VzcyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9LCBbXSlcblxuICAvLyBGdW7Dp8OjbyBkZSBpbXByZXNzw6NvIHVzYW5kbyBBUEkgbmF0aXZhIGRvIG5hdmVnYWRvclxuICBjb25zdCBwcmludCA9IHVzZUNhbGxiYWNrKGFzeW5jIChvcmRlckRhdGE6IGFueSwgcmVzdGF1cmFudE5hbWUgPSBcIktSQVRPIENBUkTDgVBJTyBESUdJVEFMXCIpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SXNQcmludGluZyh0cnVlKVxuICAgICAgc2V0RXJyb3IobnVsbClcblxuICAgICAgLy8gTWFwZWFtZW50byBkZSBtw6l0b2RvcyBkZSBwYWdhbWVudG9cbiAgICAgIGNvbnN0IHBheW1lbnRNZXRob2ROYW1lczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICAgY3JlZGl0X2NhcmQ6IFwiQ2FydMOjbyBkZSBDcsOpZGl0b1wiLFxuICAgICAgICBkZWJpdF9jYXJkOiBcIkNhcnTDo28gZGUgRMOpYml0b1wiLFxuICAgICAgICBwaXg6IFwiUElYXCIsXG4gICAgICAgIGNhc2g6IFwiRGluaGVpcm9cIixcbiAgICAgICAgbWVhbF92b3VjaGVyOiBcIlZhbGUtUmVmZWnDp8Ojb1wiLFxuICAgICAgICAvLyBDb21wYXRpYmlsaWRhZGUgY29tIGZvcm1hdG9zIGFudGlnb3NcbiAgICAgICAgY3JlZGl0OiBcIkNhcnTDo28gZGUgQ3LDqWRpdG9cIixcbiAgICAgICAgZGViaXQ6IFwiQ2FydMOjbyBkZSBEw6liaXRvXCIsXG4gICAgICAgIHdhbGxldDogXCJWYWxlLVJlZmVpw6fDo29cIixcbiAgICAgICAgbW9uZXk6IFwiRGluaGVpcm9cIlxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBPYnRlciBpbmZvcm1hw6fDtWVzIGRvIHBlZGlkb1xuICAgICAgY29uc3Qgb3JkZXJJZCA9IG9yZGVyRGF0YS5faWQgfHwgb3JkZXJEYXRhLmlkIHx8IG9yZGVyRGF0YS5udW1iZXIgfHwgJzAwMCc7XG4gICAgICBjb25zdCBvcmRlckRhdGUgPSBuZXcgRGF0ZShvcmRlckRhdGEuY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCkpO1xuICAgICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IG9yZGVyRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3B0LUJSJyk7XG4gICAgICBjb25zdCBmb3JtYXR0ZWRUaW1lID0gb3JkZXJEYXRlLnRvTG9jYWxlVGltZVN0cmluZygncHQtQlInKTtcbiAgICAgIFxuICAgICAgLy8gSW5mb3JtYcOnw7VlcyBkbyBjbGllbnRlXG4gICAgICBjb25zdCBjdXN0b21lck5hbWUgPSBvcmRlckRhdGEuY3VzdG9tZXI/Lm5hbWUgfHwgJ0NsaWVudGUnO1xuICAgICAgY29uc3QgY3VzdG9tZXJQaG9uZSA9IG9yZGVyRGF0YS5jdXN0b21lcj8ucGhvbmUgfHwgJy0nO1xuICAgICAgXG4gICAgICAvLyBUaXBvIGRlIHBlZGlkb1xuICAgICAgY29uc3QgaXNEZWxpdmVyeSA9IG9yZGVyRGF0YS5vcmRlclR5cGUgPT09ICdkZWxpdmVyeScgfHwgb3JkZXJEYXRhLmRlbGl2ZXJ5TWV0aG9kID09PSAnZGVsaXZlcnknO1xuICAgICAgY29uc3Qgb3JkZXJUeXBlID0gaXNEZWxpdmVyeSA/ICdFbnRyZWdhJyA6ICdSZXRpcmFkYSBubyBsb2NhbCc7XG4gICAgICBcbiAgICAgIC8vIEVuZGVyZcOnbyBkZSBlbnRyZWdhXG4gICAgICBsZXQgZGVsaXZlcnlBZGRyZXNzVGV4dCA9ICcnO1xuICAgICAgY29uc3QgZGVsaXZlcnlBZGRyZXNzID0gb3JkZXJEYXRhLmRlbGl2ZXJ5QWRkcmVzcyB8fCBvcmRlckRhdGEuYWRkcmVzcztcbiAgICAgIFxuICAgICAgaWYgKGlzRGVsaXZlcnkgJiYgZGVsaXZlcnlBZGRyZXNzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGVsaXZlcnlBZGRyZXNzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGRlbGl2ZXJ5QWRkcmVzc1RleHQgPSBgRW5kZXJlw6dvOiAke2RlbGl2ZXJ5QWRkcmVzc31cXG5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZvcm1hdGHDp8OjbyBkZXRhbGhhZGEgZG8gZW5kZXJlw6dvXG4gICAgICAgICAgZGVsaXZlcnlBZGRyZXNzVGV4dCA9IGBFbmRlcmXDp286ICR7ZGVsaXZlcnlBZGRyZXNzLnN0cmVldH0sICR7ZGVsaXZlcnlBZGRyZXNzLm51bWJlcn0ke1xuICAgICAgICAgICAgZGVsaXZlcnlBZGRyZXNzLmNvbXBsZW1lbnQgPyBgIC0gJHtkZWxpdmVyeUFkZHJlc3MuY29tcGxlbWVudH1gIDogJydcbiAgICAgICAgICB9XFxuYDtcbiAgICAgICAgICBkZWxpdmVyeUFkZHJlc3NUZXh0ICs9IGBCYWlycm86ICR7ZGVsaXZlcnlBZGRyZXNzLm5laWdoYm9yaG9vZCB8fCAnLSd9XFxuYDtcbiAgICAgICAgICBkZWxpdmVyeUFkZHJlc3NUZXh0ICs9IGBDaWRhZGU6ICR7ZGVsaXZlcnlBZGRyZXNzLmNpdHkgfHwgJy0nfSR7ZGVsaXZlcnlBZGRyZXNzLnN0YXRlID8gYCAtICR7ZGVsaXZlcnlBZGRyZXNzLnN0YXRlfWAgOiAnJ31cXG5gO1xuICAgICAgICAgIGlmIChkZWxpdmVyeUFkZHJlc3MuemlwQ29kZSkgZGVsaXZlcnlBZGRyZXNzVGV4dCArPSBgQ0VQOiAke2RlbGl2ZXJ5QWRkcmVzcy56aXBDb2RlfVxcbmA7XG4gICAgICAgICAgaWYgKGRlbGl2ZXJ5QWRkcmVzcy5yZWZlcmVuY2UpIGRlbGl2ZXJ5QWRkcmVzc1RleHQgKz0gYFJlZmVyw6puY2lhOiAke2RlbGl2ZXJ5QWRkcmVzcy5yZWZlcmVuY2V9XFxuYDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJbmZvcm1hw6fDtWVzIGRlIHBhZ2FtZW50b1xuICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IG9yZGVyRGF0YS5wYXltZW50TWV0aG9kIHx8IChvcmRlckRhdGEucGF5bWVudCAmJiBvcmRlckRhdGEucGF5bWVudC5tZXRob2QpIHx8ICctJztcbiAgICAgIGNvbnN0IGZvcm1hdHRlZFBheW1lbnRNZXRob2QgPSBwYXltZW50TWV0aG9kTmFtZXNbcGF5bWVudE1ldGhvZF0gfHwgcGF5bWVudE1ldGhvZDtcbiAgICAgIFxuICAgICAgLy8gVHJvY29cbiAgICAgIGxldCBjaGFuZ2VUZXh0ID0gJyc7XG4gICAgICBjb25zdCBjaGFuZ2UgPSBvcmRlckRhdGEuY2hhbmdlIHx8IChvcmRlckRhdGEucGF5bWVudCAmJiBvcmRlckRhdGEucGF5bWVudC5jaGFuZ2UpO1xuICAgICAgaWYgKChwYXltZW50TWV0aG9kID09PSAnY2FzaCcgfHwgcGF5bWVudE1ldGhvZCA9PT0gJ21vbmV5JykgJiYgY2hhbmdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2hhbmdlVGV4dCA9IGBUcm9jbyBwYXJhOiAke2Zvcm1hdEN1cnJlbmN5KGNoYW5nZSl9XFxuYDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSXRlbnMgZG8gcGVkaWRvXG4gICAgICBsZXQgaXRlbXMgPSBvcmRlckRhdGEuaXRlbXMgfHwgW107XG4gICAgICBcbiAgICAgIC8vIEdhcmFudGlyIHF1ZSB0b2RvcyBvcyBpdGVucyB0ZW5oYW0gY2F0ZWdvcmlhXG4gICAgICBpdGVtcyA9IGl0ZW1zLm1hcCgoaXRlbTogYW55KSA9PiB7XG4gICAgICAgIC8vIEl0ZW5zIG1laW8gYSBtZWlvXG4gICAgICAgIGlmIChpdGVtLmlzSGFsZkhhbGYgJiYgaXRlbS5oYWxmSGFsZikge1xuICAgICAgICAgIC8vIEdhcmFudGlyIHF1ZSBhcyBtZXRhZGVzIHRlbmhhbSBjYXRlZ29yaWFzXG4gICAgICAgICAgaWYgKGl0ZW0uaGFsZkhhbGYuZmlyc3RIYWxmICYmICFpdGVtLmhhbGZIYWxmLmZpcnN0SGFsZi5jYXRlZ29yeSkge1xuICAgICAgICAgICAgaXRlbS5oYWxmSGFsZi5maXJzdEhhbGYuY2F0ZWdvcnkgPSBpdGVtLmNhdGVnb3J5IHx8ICdOw6NvIGNsYXNzaWZpY2Fkbyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChpdGVtLmhhbGZIYWxmLnNlY29uZEhhbGYgJiYgIWl0ZW0uaGFsZkhhbGYuc2Vjb25kSGFsZi5jYXRlZ29yeSkge1xuICAgICAgICAgICAgaXRlbS5oYWxmSGFsZi5zZWNvbmRIYWxmLmNhdGVnb3J5ID0gaXRlbS5jYXRlZ29yeSB8fCAnTsOjbyBjbGFzc2lmaWNhZG8nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU2UgbsOjbyB0aXZlciBjYXRlZ29yaWEsIGFwbGljYXIgdW1hIHBhZHLDo29cbiAgICAgICAgaWYgKCFpdGVtLmNhdGVnb3J5KSB7XG4gICAgICAgICAgcmV0dXJuIHsgLi4uaXRlbSwgY2F0ZWdvcnk6ICdOw6NvIGNsYXNzaWZpY2FkbycgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBHZXJhciB0ZXh0byBwYXJhIGl0ZW5zXG4gICAgICBsZXQgaXRlbXNUZXh0ID0gJyc7XG4gICAgICBcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICBpdGVtc1RleHQgKz0gYCR7aXRlbS5xdWFudGl0eX14ICR7aXRlbS5uYW1lfSAtICR7Zm9ybWF0Q3VycmVuY3koaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkpfVxcbmA7XG4gICAgICAgIFxuICAgICAgICAvLyBTZSBmb3IgbWVpYSBhIG1laWEsIG1vc3RyYXIgY2F0ZWdvcmlhcyBkYXMgbWV0YWRlc1xuICAgICAgICBpZiAoaXRlbS5pc0hhbGZIYWxmICYmIGl0ZW0uaGFsZkhhbGYpIHtcbiAgICAgICAgICAvLyBPYnRlciBjYXRlZ29yaWFzIGRhcyBtZXRhZGVzXG4gICAgICAgICAgbGV0IGZpcnN0SGFsZkNhdGVnb3J5ID0gJ07Do28gY2xhc3NpZmljYWRvJztcbiAgICAgICAgICBsZXQgc2Vjb25kSGFsZkNhdGVnb3J5ID0gJ07Do28gY2xhc3NpZmljYWRvJztcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaXRlbS5oYWxmSGFsZi5maXJzdEhhbGYgJiYgaXRlbS5oYWxmSGFsZi5maXJzdEhhbGYuY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIGZpcnN0SGFsZkNhdGVnb3J5ID0gaXRlbS5oYWxmSGFsZi5maXJzdEhhbGYuY2F0ZWdvcnk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChpdGVtLmhhbGZIYWxmLnNlY29uZEhhbGYgJiYgaXRlbS5oYWxmSGFsZi5zZWNvbmRIYWxmLmNhdGVnb3J5KSB7XG4gICAgICAgICAgICBzZWNvbmRIYWxmQ2F0ZWdvcnkgPSBpdGVtLmhhbGZIYWxmLnNlY29uZEhhbGYuY2F0ZWdvcnk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNlIG7Do28gZW5jb250cm91IGNhdGVnb3JpYSwgdGVudGEgb2J0ZXIgZG8gaXRlbSBwcmluY2lwYWxcbiAgICAgICAgICBpZiAoZmlyc3RIYWxmQ2F0ZWdvcnkgPT09ICdOw6NvIGNsYXNzaWZpY2FkbycgJiYgaXRlbS5jYXRlZ29yeSkge1xuICAgICAgICAgICAgZmlyc3RIYWxmQ2F0ZWdvcnkgPSBpdGVtLmNhdGVnb3J5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoc2Vjb25kSGFsZkNhdGVnb3J5ID09PSAnTsOjbyBjbGFzc2lmaWNhZG8nICYmIGl0ZW0uY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIHNlY29uZEhhbGZDYXRlZ29yeSA9IGl0ZW0uY2F0ZWdvcnk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGl0ZW1zVGV4dCArPSBgQ0FURUdPUklBICgxLzIpOiAke2ZpcnN0SGFsZkNhdGVnb3J5fVxcbmA7XG4gICAgICAgICAgaXRlbXNUZXh0ICs9IGBDQVRFR09SSUEgKDIvMik6ICR7c2Vjb25kSGFsZkNhdGVnb3J5fVxcbmA7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRGV0YWxoZXMgZGUgbWVpbyBhIG1laW9cbiAgICAgICAgICBpdGVtc1RleHQgKz0gYMK9ICR7aXRlbS5oYWxmSGFsZi5maXJzdEhhbGYubmFtZX1cXG5gO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkaWNpb25haXMgZGEgcHJpbWVpcmEgbWV0YWRlXG4gICAgICAgICAgaWYgKGl0ZW0uaGFsZkhhbGYuZmlyc3RIYWxmLmFkZGl0aW9ucyAmJiBpdGVtLmhhbGZIYWxmLmZpcnN0SGFsZi5hZGRpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBhZGRpdGlvbiBvZiBpdGVtLmhhbGZIYWxmLmZpcnN0SGFsZi5hZGRpdGlvbnMpIHtcbiAgICAgICAgICAgICAgaXRlbXNUZXh0ICs9IGAgICsgJHthZGRpdGlvbi5uYW1lfVxcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGl0ZW1zVGV4dCArPSBgwr0gJHtpdGVtLmhhbGZIYWxmLnNlY29uZEhhbGYubmFtZX1cXG5gO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkaWNpb25haXMgZGEgc2VndW5kYSBtZXRhZGVcbiAgICAgICAgICBpZiAoaXRlbS5oYWxmSGFsZi5zZWNvbmRIYWxmLmFkZGl0aW9ucyAmJiBpdGVtLmhhbGZIYWxmLnNlY29uZEhhbGYuYWRkaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWRkaXRpb24gb2YgaXRlbS5oYWxmSGFsZi5zZWNvbmRIYWxmLmFkZGl0aW9ucykge1xuICAgICAgICAgICAgICBpdGVtc1RleHQgKz0gYCAgKyAke2FkZGl0aW9uLm5hbWV9XFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbXNUZXh0ICs9IGBDQVRFR09SSUE6ICR7aXRlbS5jYXRlZ29yeX1cXG5gO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkaWNpb25haXMgbm9ybWFpc1xuICAgICAgICAgIGlmIChpdGVtLmFkZGl0aW9ucyAmJiBpdGVtLmFkZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFkZGl0aW9uIG9mIGl0ZW0uYWRkaXRpb25zKSB7XG4gICAgICAgICAgICAgIGl0ZW1zVGV4dCArPSBgICArICR7YWRkaXRpb24ubmFtZX1cXG5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gT2JzZXJ2YcOnw7VlcyBkbyBpdGVtXG4gICAgICAgIGlmIChpdGVtLm5vdGVzIHx8IGl0ZW0ub2JzZXJ2YXRpb25zIHx8IGl0ZW0ub2JzZXJ2YXRpb24pIHtcbiAgICAgICAgICBpdGVtc1RleHQgKz0gYE9iczogJHtpdGVtLm5vdGVzIHx8IGl0ZW0ub2JzZXJ2YXRpb25zIHx8IGl0ZW0ub2JzZXJ2YXRpb259XFxuYDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaXRlbXNUZXh0ICs9IGAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5gO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDYWxjdWxhciB0b3RhaXNcbiAgICAgIGNvbnN0IHN1YnRvdGFsID0gb3JkZXJEYXRhLnN1YnRvdGFsIHx8IGl0ZW1zLnJlZHVjZSgoYWNjOiBudW1iZXIsIGl0ZW06IGFueSkgPT4gYWNjICsgKGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5KSwgMCk7XG4gICAgICBjb25zdCBkZWxpdmVyeUZlZSA9IG9yZGVyRGF0YS5kZWxpdmVyeUZlZSB8fCAob3JkZXJEYXRhLmRlbGl2ZXJ5ICYmIG9yZGVyRGF0YS5kZWxpdmVyeS5mZWUpIHx8IDA7XG4gICAgICBjb25zdCBkaXNjb3VudCA9IG9yZGVyRGF0YS5kaXNjb3VudCB8fCAwO1xuICAgICAgY29uc3QgdG90YWwgPSBvcmRlckRhdGEudG90YWwgfHwgKHN1YnRvdGFsICsgZGVsaXZlcnlGZWUgLSBkaXNjb3VudCk7XG4gICAgICBcbiAgICAgIC8vIE1vbnRhciBvIGNvbnRlw7pkbyBjb21wbGV0byBkbyByZWNpYm8gZW0gZm9ybWF0byBkZSB0ZXh0byBwdXJvXG4gICAgICBjb25zdCByZWNlaXB0VGV4dCA9IGBcbiR7cmVzdGF1cmFudE5hbWV9XG4ke2Zvcm1hdHRlZERhdGV9ICR7Zm9ybWF0dGVkVGltZX1cblBFRElETyAjJHtvcmRlcklkfVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkNMSUVOVEU6XG5Ob21lOiAke2N1c3RvbWVyTmFtZX1cblRlbGVmb25lOiAke2N1c3RvbWVyUGhvbmV9XG5cblRJUE8gREUgUEVESURPOlxuJHtvcmRlclR5cGV9XG4ke2lzRGVsaXZlcnkgPyBkZWxpdmVyeUFkZHJlc3NUZXh0IDogJyd9XG5cblBBR0FNRU5UTzpcbiR7Zm9ybWF0dGVkUGF5bWVudE1ldGhvZH1cbiR7Y2hhbmdlVGV4dH1cbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5JVEVOUyBETyBQRURJRE86XG4ke2l0ZW1zVGV4dH1cblxuU3VidG90YWw6ICR7Zm9ybWF0Q3VycmVuY3koc3VidG90YWwpfVxuVGF4YSBkZSBlbnRyZWdhOiAke2Zvcm1hdEN1cnJlbmN5KGRlbGl2ZXJ5RmVlKX1cbiR7ZGlzY291bnQgPiAwID8gYERlc2NvbnRvOiAtJHtmb3JtYXRDdXJyZW5jeShkaXNjb3VudCl9XFxuYCA6ICcnfVxuVE9UQUw6ICR7Zm9ybWF0Q3VycmVuY3kodG90YWwpfVxuKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxuT2JyaWdhZG8gcGVsYSBwcmVmZXLDqm5jaWEhXG5gO1xuICAgICAgXG4gICAgICAvLyBDcmlhciBqYW5lbGEgZGUgb3DDp8O1ZXMgZGUgaW1wcmVzc8Ojb1xuICAgICAgY29uc3Qgb3B0aW9uc1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBcbiAgICAgIGlmICghb3B0aW9uc1dpbmRvdykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ07Do28gZm9pIHBvc3PDrXZlbCBhYnJpciBqYW5lbGEgZGUgaW1wcmVzc8OjbycpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDb25maWd1cmFyIGphbmVsYSBkZSBvcMOnw7Vlc1xuICAgICAgb3B0aW9uc1dpbmRvdy5kb2N1bWVudC53cml0ZShgXG48IURPQ1RZUEUgaHRtbD5cbjxodG1sPlxuPGhlYWQ+XG4gIDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxuICA8dGl0bGU+T3DDp8O1ZXMgZGUgSW1wcmVzc8OjbzwvdGl0bGU+XG4gIDxzdHlsZT5cbiAgICBib2R5IHtcbiAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7XG4gICAgICBtYXgtd2lkdGg6IDgwMHB4O1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgIH1cbiAgICBoMSB7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIH1cbiAgICAub3B0aW9ucyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgZ2FwOiAyMHB4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgIH1cbiAgICAub3B0aW9uIHtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgd2lkdGg6IDMwMHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgIH1cbiAgICAub3B0aW9uOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlOWU5ZTk7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gICAgfVxuICAgIC5vcHRpb24gaDIge1xuICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgIH1cbiAgICAub3B0aW9uIHAge1xuICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICAgIGNvbG9yOiAjNjY2O1xuICAgIH1cbiAgICAuYnV0dG9uIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDtcbiAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgICBib3JkZXI6IG5vbmU7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgLmJ1dHRvbjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDVhMDQ5O1xuICAgIH1cbiAgICAucmVkIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNDQzMzY7XG4gICAgfVxuICAgIC5yZWQ6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2QzMmYyZjtcbiAgICB9XG4gICAgLnRleHRvIHtcbiAgICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcbiAgICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIG1heC1oZWlnaHQ6IDQwMHB4O1xuICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICB9XG4gICAgLmNsb3NlLWJ1dHRvbiB7XG4gICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvaGVhZD5cbjxib2R5PlxuICA8aDE+T3DDp8O1ZXMgZGUgSW1wcmVzc8OjbzwvaDE+XG4gIFxuICA8ZGl2IGNsYXNzPVwib3B0aW9uc1wiPlxuICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIiBvbmNsaWNrPVwiZXNjb2xoZXJPcGNhbygndWx0cmFTaW1wbGVzJylcIj5cbiAgICAgIDxoMj5JbXByZXNzw6NvIFVsdHJhLVNpbXBsZXM8L2gyPlxuICAgICAgPHA+SW1wcmVzc8OjbyBzZW0gZm9ybWF0YcOnw6NvLCByZWNvbWVuZGFkYSBwYXJhIGltcHJlc3NvcmFzIHTDqXJtaWNhcy4gR2FyYW50ZSBtw6F4aW1hIGNvbXBhdGliaWxpZGFkZS48L3A+XG4gICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uXCIgb25jbGljaz1cImltcHJpbWVVbHRyYVNpbXBsZXMoZXZlbnQpXCI+SW1wcmltaXIgVGV4dG8gUHVybzwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIFxuICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIiBvbmNsaWNrPVwiZXNjb2xoZXJPcGNhbygnZG93bmxvYWQnKVwiPlxuICAgICAgPGgyPkJhaXhhciBBcnF1aXZvIC5UWFQ8L2gyPlxuICAgICAgPHA+QmFpeGUgbyByZWNpYm8gY29tbyBhcnF1aXZvIGRlIHRleHRvIGUgaW1wcmltYS1vIHVzYW5kbyBvdXRybyBhcGxpY2F0aXZvLjwvcD5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b25cIiBvbmNsaWNrPVwiYmFpeGFyQXJxdWl2b1RleHRvKGV2ZW50KVwiPkJhaXhhciBBcnF1aXZvPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxkaXYgaWQ9XCJ0ZXh0b1JlY2lib1wiIGNsYXNzPVwidGV4dG9cIj4ke3JlY2VpcHRUZXh0LnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7Jyl9PC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cImNsb3NlLWJ1dHRvblwiPlxuICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gcmVkXCIgb25jbGljaz1cIndpbmRvdy5jbG9zZSgpXCI+RmVjaGFyPC9idXR0b24+XG4gIDwvZGl2PlxuXG4gIDxzY3JpcHQ+XG4gICAgZnVuY3Rpb24gZXNjb2xoZXJPcGNhbyhvcGNhbykge1xuICAgICAgaWYgKG9wY2FvID09PSAnbW9zdHJhclRleHRvJykge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dG9SZWNpYm8nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaW1wcmltZVVsdHJhU2ltcGxlcyhlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBBYnJlIHVtYSBub3ZhIGphbmVsYSBhcGVuYXMgY29tIG8gdGV4dG9cbiAgICAgIGNvbnN0IHRleHRvUmVjaWJvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHRvUmVjaWJvJykudGV4dENvbnRlbnQ7XG4gICAgICBjb25zdCBqYW5lbGFJbXByZXNzYW8gPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycpO1xuICAgICAgXG4gICAgICBqYW5lbGFJbXByZXNzYW8uZG9jdW1lbnQud3JpdGUoXFxgXG4gICAgICAgIDwhRE9DVFlQRSBodG1sPlxuICAgICAgICA8aHRtbD5cbiAgICAgICAgPGhlYWQ+XG4gICAgICAgICAgPHRpdGxlPkltcHJlc3PDo288L3RpdGxlPlxuICAgICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgIGJvZHkgeyBcbiAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsgXG4gICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBwcmU7IFxuICAgICAgICAgICAgICBtYXJnaW46IDA7IFxuICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBAbWVkaWEgcHJpbnQge1xuICAgICAgICAgICAgICBAcGFnZSB7IFxuICAgICAgICAgICAgICAgIHNpemU6IGF1dG87IFxuICAgICAgICAgICAgICAgIG1hcmdpbjogMG1tOyBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDwvaGVhZD5cbiAgICAgICAgPGJvZHk+XFwke3RleHRvUmVjaWJvfTwvYm9keT5cbiAgICAgICAgPC9odG1sPlxuICAgICAgXFxgKTtcbiAgICAgIFxuICAgICAgamFuZWxhSW1wcmVzc2FvLmRvY3VtZW50LmNsb3NlKCk7XG4gICAgICBcbiAgICAgIC8vIEltcHJpbWlyIGltZWRpYXRhbWVudGVcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBqYW5lbGFJbXByZXNzYW8ucHJpbnQoKTtcbiAgICAgICAgLy8gTsOjbyBmZWNoYSBhIGphbmVsYSBwYXJhIHBlcm1pdGlyIG3Dumx0aXBsYXMgdGVudGF0aXZhc1xuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gYmFpeGFyQXJxdWl2b1RleHRvKGUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRleHRvUmVjaWJvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHRvUmVjaWJvJykudGV4dENvbnRlbnQ7XG4gICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3RleHRvUmVjaWJvXSwgeyB0eXBlOiAndGV4dC9wbGFpbicgfSk7XG4gICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgXG4gICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgYS5kb3dubG9hZCA9ICdyZWNpYm9fcGVkaWRvXyR7b3JkZXJJZH0udHh0JztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICBhLmNsaWNrKCk7XG4gICAgICBcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgPC9zY3JpcHQ+XG48L2JvZHk+XG48L2h0bWw+XG4gICAgICBgKTtcbiAgICAgIFxuICAgICAgb3B0aW9uc1dpbmRvdy5kb2N1bWVudC5jbG9zZSgpO1xuICAgICAgXG4gICAgICBzZXRJc1ByaW50aW5nKGZhbHNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGltcHJpbWlyOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnRXJybyBkZXNjb25oZWNpZG8gYW8gaW1wcmltaXInKTtcbiAgICAgIHNldElzUHJpbnRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwgW10pXG4gIFxuICByZXR1cm4ge1xuICAgIGlzUHJpbnRpbmcsXG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgaGFzUHJpbnRlckFjY2VzcyxcbiAgICBwcmludGVyTmFtZSxcbiAgICByZXF1ZXN0UHJpbnRlckFjY2VzcyxcbiAgICBwcmludCxcbiAgICBlcnJvclxuICB9XG59IFxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJmb3JtYXRDdXJyZW5jeSIsInZhbHVlIiwiSW50bCIsIk51bWJlckZvcm1hdCIsInN0eWxlIiwiY3VycmVuY3kiLCJmb3JtYXQiLCJ1c2VUaGVybWFsUHJpbnRlciIsImlzUHJpbnRpbmciLCJzZXRJc1ByaW50aW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImlzU3VwcG9ydGVkIiwiaGFzUHJpbnRlckFjY2VzcyIsInByaW50ZXJOYW1lIiwicmVxdWVzdFByaW50ZXJBY2Nlc3MiLCJwcmludCIsIm9yZGVyRGF0YSIsInJlc3RhdXJhbnROYW1lIiwicGF5bWVudE1ldGhvZE5hbWVzIiwiY3JlZGl0X2NhcmQiLCJkZWJpdF9jYXJkIiwicGl4IiwiY2FzaCIsIm1lYWxfdm91Y2hlciIsImNyZWRpdCIsImRlYml0Iiwid2FsbGV0IiwibW9uZXkiLCJvcmRlcklkIiwiX2lkIiwiaWQiLCJudW1iZXIiLCJvcmRlckRhdGUiLCJEYXRlIiwiY3JlYXRlZEF0IiwiZm9ybWF0dGVkRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImZvcm1hdHRlZFRpbWUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJjdXN0b21lck5hbWUiLCJjdXN0b21lciIsIm5hbWUiLCJjdXN0b21lclBob25lIiwicGhvbmUiLCJpc0RlbGl2ZXJ5Iiwib3JkZXJUeXBlIiwiZGVsaXZlcnlNZXRob2QiLCJkZWxpdmVyeUFkZHJlc3NUZXh0IiwiZGVsaXZlcnlBZGRyZXNzIiwiYWRkcmVzcyIsInN0cmVldCIsImNvbXBsZW1lbnQiLCJuZWlnaGJvcmhvb2QiLCJjaXR5Iiwic3RhdGUiLCJ6aXBDb2RlIiwicmVmZXJlbmNlIiwicGF5bWVudE1ldGhvZCIsInBheW1lbnQiLCJtZXRob2QiLCJmb3JtYXR0ZWRQYXltZW50TWV0aG9kIiwiY2hhbmdlVGV4dCIsImNoYW5nZSIsInVuZGVmaW5lZCIsIml0ZW1zIiwibWFwIiwiaXRlbSIsImlzSGFsZkhhbGYiLCJoYWxmSGFsZiIsImZpcnN0SGFsZiIsImNhdGVnb3J5Iiwic2Vjb25kSGFsZiIsIml0ZW1zVGV4dCIsInF1YW50aXR5IiwicHJpY2UiLCJmaXJzdEhhbGZDYXRlZ29yeSIsInNlY29uZEhhbGZDYXRlZ29yeSIsImFkZGl0aW9ucyIsImxlbmd0aCIsImFkZGl0aW9uIiwibm90ZXMiLCJvYnNlcnZhdGlvbnMiLCJvYnNlcnZhdGlvbiIsInN1YnRvdGFsIiwicmVkdWNlIiwiYWNjIiwiZGVsaXZlcnlGZWUiLCJkZWxpdmVyeSIsImZlZSIsImRpc2NvdW50IiwidG90YWwiLCJyZWNlaXB0VGV4dCIsIm9wdGlvbnNXaW5kb3ciLCJ3aW5kb3ciLCJvcGVuIiwiRXJyb3IiLCJkb2N1bWVudCIsIndyaXRlIiwicmVwbGFjZSIsImNsb3NlIiwiZXJyIiwiY29uc29sZSIsIm1lc3NhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/use-thermal-printer.ts\n"));

/***/ })

});